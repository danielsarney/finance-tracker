{% comment %}
Reusable form filters template fragment.
Usage: {% include 'includes/form_filters.html' with years=years categories=categories selected_month=selected_month selected_year=selected_year selected_category=selected_category %}
{% endcomment %}
<div class="row mb-3">
    <div class="col-md-3">
        <label for="month-filter" class="form-label">Month</label>
        <select class="form-select" id="month-filter" name="month">
            <option value="">All Months</option>
            <option value="1" {% if selected_month == "1" %}selected{% endif %}>January</option>
            <option value="2" {% if selected_month == "2" %}selected{% endif %}>February</option>
            <option value="3" {% if selected_month == "3" %}selected{% endif %}>March</option>
            <option value="4" {% if selected_month == "4" %}selected{% endif %}>April</option>
            <option value="5" {% if selected_month == "5" %}selected{% endif %}>May</option>
            <option value="6" {% if selected_month == "6" %}selected{% endif %}>June</option>
            <option value="7" {% if selected_month == "7" %}selected{% endif %}>July</option>
            <option value="8" {% if selected_month == "8" %}selected{% endif %}>August</option>
            <option value="9" {% if selected_month == "9" %}selected{% endif %}>September</option>
            <option value="10" {% if selected_month == "10" %}selected{% endif %}>October</option>
            <option value="11" {% if selected_month == "11" %}selected{% endif %}>November</option>
            <option value="12" {% if selected_month == "12" %}selected{% endif %}>December</option>
        </select>
    </div>
    <div class="col-md-3">
        <label for="year-filter" class="form-label">Year</label>
        <select class="form-select" id="year-filter" name="year">
            <option value="">All Years</option>
            {% for year in years %}
                <option value="{{ year }}"
                        {% if selected_year == year|stringformat:"s" %}selected{% endif %}>{{ year }}</option>
            {% endfor %}
        </select>
    </div>
    {% if categories %}
        <div class="col-md-3">
            <label for="category-filter" class="form-label">Category</label>
            <select class="form-select" id="category-filter" name="category">
                <option value="">All Categories</option>
                {% for category in categories %}
                    <option value="{{ category.id }}"
                            {% if selected_category == category.id|stringformat:"s" %}selected{% endif %}>
                        {{ category.name }}
                    </option>
                {% endfor %}
            </select>
        </div>
    {% endif %}
    <div class="col-md-3 d-flex align-items-end">
        <button type="submit" class="btn btn-primary me-2">
            <i class="fas fa-filter me-1"></i>Filter
        </button>
        <a href="{% url request.resolver_match.url_name %}"
           class="btn btn-outline-secondary">
            <i class="fas fa-times me-1"></i>Clear
        </a>
    </div>
</div>
